<html>
      <head>
        <meta charset="UTF-8">
        <title>README.md</title>
      </head>
      <body>
        <h1 id="stream-throttle">stream-throttle</h1>
<p>A rate limiter for Node.js streams.</p>
<h2 id="api-usage">API usage</h2>
<p>This module exports two classes, <code>Throttle</code> and <code>ThrottleGroup</code>.</p>
<p><code>Throttle</code> creates a single throttled stream, based on <code>stream.Transform</code>. It accepts an <code>opts</code> parameter with the following keys:</p>
<ul>
<li><code>opts.rate</code> is the throttling rate, in bytes per second.</li>
<li><code>opts.chunksize</code> (optional) is the maximum chunk size into which larger writes are decomposed; the default is <code>opts.rate</code>/10.</li>
</ul>
<p>The <code>opts</code> object may also contain options to be passed to the <code>stream.Transform</code> constructor.</p>
<p>For example, the following code throttles stdin to stdout at 10 bytes per second:</p>
<pre><code>process.stdin.pipe(new Throttle({rate: 10})).pipe(process.stdout)
</code></pre><p><code>ThrottleGroup</code> allows the creation of a group of streams whose aggregate bandwidth is throttled. The constructor accepts the same <code>opts</code> argument as for <code>Throttle</code>. Call <code>throttle</code> on a <code>ThrottleGroup</code> object to create a new throttled stream belonging to the group.</p>
<p>For example, the following code creates two HTTP connections to <code>www.google.com:80</code>, and throttles their aggregate (downstream) bandwidth to 10 KB/s:</p>
<pre><code>var addr = { host: &#39;www.google.com&#39;, port: 80 };
var tg = new ThrottleGroup({rate: 10240});

var conn1 = net.createConnection(addr),
    conn2 = net.createConnection(addr);

var thr1 = conn1.pipe(tg.throttle()),
    thr2 = conn2.pipe(tg.throttle());

// Reads from thr1 and thr2 are throttled to 10 KB/s in aggregate
</code></pre><h2 id="command-line-usage">Command line usage</h2>
<p>This package installs a <code>throttleproxy</code> binary which implements a command-line utility for throttling connections. Run <code>throttleproxy -h</code> for instructions.</p>
<h2 id="contributing">Contributing</h2>
<p>Feel free to open an issue or send a pull request.</p>
<h2 id="license">License</h2>
<p>BSD-style. See the LICENSE file.</p>
<h2 id="author">Author</h2>
<p>Copyright Â© 2013 Tiago Quelhas. Contact me at <code>&lt;tiagoq@gmail.com&gt;</code>.</p>

      </body>
    </html>