<html>
      <head>
        <meta charset="UTF-8">
        <title>readme.md</title>
      </head>
      <body>
        <p>#Browsersync - Browserify, Babelify + Watchify + Sourcemaps Example</p>
<h2 id="installation-usage-">Installation/Usage:</h2>
<p>To try this example, follow these 4 simple steps. </p>
<p><strong>Step 1</strong>: Clone this entire repo</p>
<pre><code class="lang-bash">$ git clone https://github.com/Browsersync/recipes.git bs-recipes
</code></pre>
<p><strong>Step 2</strong>: Move into the directory containing this example</p>
<pre><code class="lang-bash">$ cd bs-recipes/recipes/gulp.browserify
</code></pre>
<p><strong>Step 3</strong>: Install dependencies</p>
<pre><code class="lang-bash">$ npm install
</code></pre>
<p><strong>Step 4</strong>: Run the example</p>
<pre><code class="lang-bash">$ npm start
</code></pre>
<h3 id="additional-info-">Additional Info:</h3>
<p>This one is a beast. Write your React JSX code, in ES6, compiled by Browserify and auto-reload all devices
when the compilation is complete.</p>
<h3 id="preview-of-gulpfile-js-">Preview of <code>gulpfile.js</code>:</h3>
<pre><code class="lang-js">var gulp        = require(&#39;gulp&#39;);
var gutil       = require(&#39;gulp-util&#39;);
var source      = require(&#39;vinyl-source-stream&#39;);
var babelify    = require(&#39;babelify&#39;);
var watchify    = require(&#39;watchify&#39;);
var exorcist    = require(&#39;exorcist&#39;);
var browserify  = require(&#39;browserify&#39;);
var browserSync = require(&#39;browser-sync&#39;).create();

// Watchify args contains necessary cache options to achieve fast incremental bundles.
// See watchify readme for details. Adding debug true for source-map generation.
watchify.args.debug = true;
// Input file.
var bundler = watchify(browserify(&#39;./app/js/app.js&#39;, watchify.args));

// Babel transform
bundler.transform(babelify.configure({
    sourceMapRelative: &#39;app/js&#39;
}));

// On updates recompile
bundler.on(&#39;update&#39;, bundle);

function bundle() {

    gutil.log(&#39;Compiling JS...&#39;);

    return bundler.bundle()
        .on(&#39;error&#39;, function (err) {
            gutil.log(err.message);
            browserSync.notify(&quot;Browserify Error!&quot;);
            this.emit(&quot;end&quot;);
        })
        .pipe(exorcist(&#39;app/js/dist/bundle.js.map&#39;))
        .pipe(source(&#39;bundle.js&#39;))
        .pipe(gulp.dest(&#39;./app/js/dist&#39;))
        .pipe(browserSync.stream({once: true}));
}

/**
 * Gulp task alias
 */
gulp.task(&#39;bundle&#39;, function () {
    return bundle();
});

/**
 * First bundle, then serve from the ./app directory
 */
gulp.task(&#39;default&#39;, [&#39;bundle&#39;], function () {
    browserSync.init({
        server: &quot;./app&quot;
    });
});
</code></pre>

      </body>
    </html>