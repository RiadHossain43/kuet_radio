"use strict";function distinctUntilChanged(r,e){return function(t){return t.lift(new DistinctUntilChangedOperator(r,e))}}var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Subscriber_1=require("../Subscriber"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject");exports.distinctUntilChanged=distinctUntilChanged;var DistinctUntilChangedOperator=function(){function t(t,r){this.compare=t,this.keySelector=r}return t.prototype.call=function(t,r){return r.subscribe(new DistinctUntilChangedSubscriber(t,this.compare,this.keySelector))},t}(),DistinctUntilChangedSubscriber=function(i){function t(t,r,e){var n=i.call(this,t)||this;return n.keySelector=e,n.hasKey=!1,"function"==typeof r&&(n.compare=r),n}return __extends(t,i),t.prototype.compare=function(t,r){return t===r},t.prototype._next=function(t){var r=t;if(this.keySelector&&(r=tryCatch_1.tryCatch(this.keySelector)(t))===errorObject_1.errorObject)return this.destination.error(errorObject_1.errorObject.e);var e=!1;if(this.hasKey){if((e=tryCatch_1.tryCatch(this.compare)(this.key,r))===errorObject_1.errorObject)return this.destination.error(errorObject_1.errorObject.e)}else this.hasKey=!0;!1===Boolean(e)&&(this.key=r,this.destination.next(t))},t}(Subscriber_1.Subscriber);