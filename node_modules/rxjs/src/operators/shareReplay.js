"use strict";function shareReplay(r,t,n){return function(e){return e.lift(shareReplayOperator(r,t,n))}}function shareReplayOperator(t,n,u){var a,c,s=0,o=!1,i=!1;return function(e){s++,a&&!o||(o=!1,a=new ReplaySubject_1.ReplaySubject(t,n,u),c=e.subscribe({next:function(e){a.next(e)},error:function(e){o=!0,a.error(e)},complete:function(){i=!0,a.complete()}}));var r=a.subscribe(this);return function(){s--,r.unsubscribe(),c&&0===s&&i&&c.unsubscribe()}}}Object.defineProperty(exports,"__esModule",{value:!0});var ReplaySubject_1=require("../ReplaySubject");exports.shareReplay=shareReplay;