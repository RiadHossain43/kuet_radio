"use strict";var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(e,r){function t(){this.constructor=e}a(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Observable_1=require("../Observable"),ScalarObservable_1=require("./ScalarObservable"),EmptyObservable_1=require("./EmptyObservable"),isScheduler_1=require("../util/isScheduler"),ArrayObservable=function(a){function s(e,r){var t=a.call(this)||this;return t.array=e,(t.scheduler=r)||1!==e.length||(t._isScalar=!0,t.value=e[0]),t}return __extends(s,a),s.create=function(e,r){return new s(e,r)},s.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e[e.length-1];isScheduler_1.isScheduler(t)?e.pop():t=null;var a=e.length;return 1<a?new s(e,t):1===a?new ScalarObservable_1.ScalarObservable(e[0],t):new EmptyObservable_1.EmptyObservable(t)},s.dispatch=function(e){var r=e.array,t=e.index,a=e.count,n=e.subscriber;a<=t?n.complete():(n.next(r[t]),n.closed||(e.index=t+1,this.schedule(e)))},s.prototype._subscribe=function(e){var r=this.array,t=r.length,a=this.scheduler;if(a)return a.schedule(s.dispatch,0,{array:r,index:0,count:t,subscriber:e});for(var n=0;n<t&&!e.closed;n++)e.next(r[n]);e.complete()},s}(Observable_1.Observable);exports.ArrayObservable=ArrayObservable;