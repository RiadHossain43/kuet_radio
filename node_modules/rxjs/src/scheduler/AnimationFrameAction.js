"use strict";var __extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(t,n){function e(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}();Object.defineProperty(exports,"__esModule",{value:!0});var AsyncAction_1=require("./AsyncAction"),AnimationFrame_1=require("../util/AnimationFrame"),AnimationFrameAction=function(o){function t(t,n){var e=o.call(this,t,n)||this;return e.scheduler=t,e.work=n,e}return __extends(t,o),t.prototype.requestAsyncId=function(t,n,e){return void 0===e&&(e=0),null!==e&&0<e?o.prototype.requestAsyncId.call(this,t,n,e):(t.actions.push(this),t.scheduled||(t.scheduled=AnimationFrame_1.AnimationFrame.requestAnimationFrame(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,e){if(void 0===e&&(e=0),null!==e&&0<e||null===e&&0<this.delay)return o.prototype.recycleAsyncId.call(this,t,n,e);0===t.actions.length&&(AnimationFrame_1.AnimationFrame.cancelAnimationFrame(n),t.scheduled=void 0)},t}(AsyncAction_1.AsyncAction);exports.AnimationFrameAction=AnimationFrameAction;