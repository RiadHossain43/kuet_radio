<html>
      <head>
        <meta charset="UTF-8">
        <title>Readme.md</title>
      </head>
      <body>
        <h1 id="socket-io-parser">socket.io-parser</h1>
<p><a href="http://travis-ci.org/socketio/socket.io-parser"><img src="https://secure.travis-ci.org/socketio/socket.io-parser.svg?branch=master" alt="Build Status"></a>
<a href="http://badge.fury.io/js/socket.io-parser"><img src="https://badge.fury.io/js/socket.io-parser.svg" alt="NPM version"></a></p>
<p>A socket.io encoder and decoder written in JavaScript complying with version <code>3</code>
of <a href="https://github.com/socketio/socket.io-protocol">socket.io-protocol</a>.
Used by <a href="https://github.com/automattic/socket.io">socket.io</a> and
<a href="https://github.com/automattic/socket.io-client">socket.io-client</a>.</p>
<h2 id="parser-api">Parser API</h2>
<p>  socket.io-parser is the reference implementation of socket.io-protocol. Read
  the full API here:
  <a href="https://github.com/learnboost/socket.io-protocol">socket.io-protocol</a>.</p>
<h2 id="example-usage">Example Usage</h2>
<h3 id="encoding-and-decoding-a-packet">Encoding and decoding a packet</h3>
<pre><code class="lang-js">var parser = require(&#39;socket.io-parser&#39;);
var encoder = new parser.Encoder();
var packet = {
  type: parser.EVENT,
  data: &#39;test-packet&#39;,
  id: 13
};
encoder.encode(packet, function(encodedPackets) {
  var decoder = new parser.Decoder();
  decoder.on(&#39;decoded&#39;, function(decodedPacket) {
    // decodedPacket.type == parser.EVENT
    // decodedPacket.data == &#39;test-packet&#39;
    // decodedPacket.id == 13
  });

  for (var i = 0; i &lt; encodedPackets.length; i++) {
    decoder.add(encodedPackets[i]);
  }
});
</code></pre>
<h3 id="encoding-and-decoding-a-packet-with-binary-data">Encoding and decoding a packet with binary data</h3>
<pre><code class="lang-js">var parser = require(&#39;socket.io-parser&#39;);
var encoder = new parser.Encoder();
var packet = {
  type: parser.BINARY_EVENT,
  data: {i: new Buffer(1234), j: new Blob([new ArrayBuffer(2)])}
  id: 15
};
encoder.encode(packet, function(encodedPackets) {
  var decoder = new parser.Decoder();
  decoder.on(&#39;decoded&#39;, function(decodedPacket) {
    // decodedPacket.type == parser.BINARY_EVENTEVENT
    // Buffer.isBuffer(decodedPacket.data.i) == true
    // Buffer.isBuffer(decodedPacket.data.j) == true
    // decodedPacket.id == 15
  });

  for (var i = 0; i &lt; encodedPackets.length; i++) {
    decoder.add(encodedPackets[i]);
  }
});
</code></pre>
<p>See the test suite for more examples of how socket.io-parser is used.</p>
<h2 id="license">License</h2>
<p>MIT</p>

      </body>
    </html>